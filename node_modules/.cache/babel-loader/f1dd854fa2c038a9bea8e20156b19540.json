{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Track = require('./');\n\nvar DefaultDataTrackSender = require('../../data/sender');\n/**\r\n * A {@link LocalDataTrack} is a {@link Track} representing data that your\r\n * {@link LocalParticipant} can publish to a {@link Room}.\r\n * @extends Track\r\n * @property {Track.ID} id - The {@link LocalDataTrack}'s ID\r\n * @property {Track.Kind} kind - \"data\"\r\n * @property {?number} maxPacketLifeTime - If non-null, this represents a time\r\n *   limit (in milliseconds) during which the {@link LocalDataTrack} will send\r\n *   or re-send data if not acknowledged on the underlying RTCDataChannel(s).\r\n * @property {?number} maxRetransmits - If non-null, this represents the number\r\n *   of times the {@link LocalDataTrack} will resend data if not successfully\r\n *   delivered on the underlying RTCDataChannel(s).\r\n * @property {boolean} ordered - true if data on the {@link LocalDataTrack} is\r\n *   guaranteed to be sent in order.\r\n * @property {boolean} reliable - This is true if both\r\n *   <code>maxPacketLifeTime</code> and <code>maxRetransmits</code> are set to\r\n *   null. In other words, if this is true, there is no bound on packet lifetime\r\n *   or the number of times the {@link LocalDataTrack} will attempt to send\r\n *   data, ensuring \"reliable\" transmission.\r\n * @example\r\n * var Video = require('twilio-video');\r\n *\r\n * var localDataTrack = new Video.LocalDataTrack();\r\n * window.addEventListener('mousemove', function(event) {\r\n *   localDataTrack.send(JSON.stringify({\r\n *     x: e.clientX,\r\n *     y: e.clientY\r\n *   }));\r\n * });\r\n *\r\n * var token1 = getAccessToken();\r\n * Video.connect(token1, {\r\n *   name: 'my-cool-room',\r\n *   tracks: [localDataTrack]\r\n * });\r\n *\r\n * var token2 = getAccessToken();\r\n * Video.connect(token2, {\r\n *   name: 'my-cool-room',\r\n *   tracks: []\r\n * }).then(function(room) {\r\n *   room.on('trackSubscribed', function(track) {\r\n *     track.on('message', function(message) {\r\n *       console.log(JSON.parse(message)); // { x: <number>, y: <number> }\r\n *     });\r\n *   });\r\n * });\r\n */\n\n\nvar LocalDataTrack = function (_Track) {\n  _inherits(LocalDataTrack, _Track);\n  /**\r\n   * Construct a {@link LocalDataTrack}.\r\n   * @param {LocalDataTrackOptions} [options] - {@link LocalDataTrack} options\r\n   */\n\n\n  function LocalDataTrack(options) {\n    _classCallCheck(this, LocalDataTrack);\n\n    options = Object.assign({\n      DataTrackSender: DefaultDataTrackSender,\n      maxPacketLifeTime: null,\n      maxRetransmits: null,\n      ordered: true\n    }, options);\n    var DataTrackSender = options.DataTrackSender;\n    var dataTrackSender = new DataTrackSender(options.maxPacketLifeTime, options.maxRetransmits, options.ordered);\n\n    var _this = _possibleConstructorReturn(this, (LocalDataTrack.__proto__ || Object.getPrototypeOf(LocalDataTrack)).call(this, dataTrackSender.id, 'data', options));\n\n    Object.defineProperties(_this, {\n      _trackSender: {\n        value: dataTrackSender\n      },\n      id: {\n        enumerable: true,\n        value: dataTrackSender.id\n      },\n      maxPacketLifeTime: {\n        enumerable: true,\n        value: options.maxPacketLifeTime\n      },\n      maxRetransmits: {\n        enumerable: true,\n        value: options.maxRetransmits\n      },\n      ordered: {\n        enumerable: true,\n        value: options.ordered\n      },\n      reliable: {\n        enumerable: true,\n        value: options.maxPacketLifeTime === null && options.maxRetransmits === null\n      }\n    });\n    return _this;\n  }\n  /**\r\n   * Send a message over the {@link LocalDataTrack}.\r\n   * @param {string|Blob|ArrayBuffer|ArrayBufferView} data\r\n   * @returns {void}\r\n   */\n\n\n  _createClass(LocalDataTrack, [{\n    key: 'send',\n    value: function send(data) {\n      this._trackSender.send(data);\n    }\n  }]);\n\n  return LocalDataTrack;\n}(Track);\n/**\r\n * {@link LocalDataTrack} options\r\n * @typedef {LocalTrackOptions} LocalDataTrackOptions\r\n * @property {?number} [maxPacketLifeTime=null] - Set this to limit the time\r\n *   (in milliseconds) during which the LocalDataTrack will send or re-send data\r\n *   if not successfully delivered on the underlying RTCDataChannel(s). It is an\r\n *   error to specify both this and <code>maxRetransmits</code>.\r\n * @property {?number} [maxRetransmits=null] - Set this to limit the number of\r\n *   times the {@link LocalDataTrack} will send or re-send data if not\r\n *   acknowledged on the underlying RTCDataChannel(s). It is an error to specify\r\n *   both this and <code>maxPacketLifeTime</code>.\r\n * @property {boolean} [ordered=true] - Set this to false to allow data on the\r\n *   LocalDataTrack to be sent out-of-order.\r\n */\n\n\nmodule.exports = LocalDataTrack;","map":{"version":3,"sources":["C:/Users/IJuanchoG/Desktop/Twilio/node_modules/twilio-video/es5/media/track/localdatatrack.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","Track","require","DefaultDataTrackSender","LocalDataTrack","_Track","options","assign","DataTrackSender","maxPacketLifeTime","maxRetransmits","ordered","dataTrackSender","_this","getPrototypeOf","id","_trackSender","reliable","send","data","module","exports"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Track = require('./');\r\nvar DefaultDataTrackSender = require('../../data/sender');\r\n\r\n/**\r\n * A {@link LocalDataTrack} is a {@link Track} representing data that your\r\n * {@link LocalParticipant} can publish to a {@link Room}.\r\n * @extends Track\r\n * @property {Track.ID} id - The {@link LocalDataTrack}'s ID\r\n * @property {Track.Kind} kind - \"data\"\r\n * @property {?number} maxPacketLifeTime - If non-null, this represents a time\r\n *   limit (in milliseconds) during which the {@link LocalDataTrack} will send\r\n *   or re-send data if not acknowledged on the underlying RTCDataChannel(s).\r\n * @property {?number} maxRetransmits - If non-null, this represents the number\r\n *   of times the {@link LocalDataTrack} will resend data if not successfully\r\n *   delivered on the underlying RTCDataChannel(s).\r\n * @property {boolean} ordered - true if data on the {@link LocalDataTrack} is\r\n *   guaranteed to be sent in order.\r\n * @property {boolean} reliable - This is true if both\r\n *   <code>maxPacketLifeTime</code> and <code>maxRetransmits</code> are set to\r\n *   null. In other words, if this is true, there is no bound on packet lifetime\r\n *   or the number of times the {@link LocalDataTrack} will attempt to send\r\n *   data, ensuring \"reliable\" transmission.\r\n * @example\r\n * var Video = require('twilio-video');\r\n *\r\n * var localDataTrack = new Video.LocalDataTrack();\r\n * window.addEventListener('mousemove', function(event) {\r\n *   localDataTrack.send(JSON.stringify({\r\n *     x: e.clientX,\r\n *     y: e.clientY\r\n *   }));\r\n * });\r\n *\r\n * var token1 = getAccessToken();\r\n * Video.connect(token1, {\r\n *   name: 'my-cool-room',\r\n *   tracks: [localDataTrack]\r\n * });\r\n *\r\n * var token2 = getAccessToken();\r\n * Video.connect(token2, {\r\n *   name: 'my-cool-room',\r\n *   tracks: []\r\n * }).then(function(room) {\r\n *   room.on('trackSubscribed', function(track) {\r\n *     track.on('message', function(message) {\r\n *       console.log(JSON.parse(message)); // { x: <number>, y: <number> }\r\n *     });\r\n *   });\r\n * });\r\n */\r\n\r\nvar LocalDataTrack = function (_Track) {\r\n  _inherits(LocalDataTrack, _Track);\r\n\r\n  /**\r\n   * Construct a {@link LocalDataTrack}.\r\n   * @param {LocalDataTrackOptions} [options] - {@link LocalDataTrack} options\r\n   */\r\n  function LocalDataTrack(options) {\r\n    _classCallCheck(this, LocalDataTrack);\r\n\r\n    options = Object.assign({\r\n      DataTrackSender: DefaultDataTrackSender,\r\n      maxPacketLifeTime: null,\r\n      maxRetransmits: null,\r\n      ordered: true\r\n    }, options);\r\n\r\n    var DataTrackSender = options.DataTrackSender;\r\n    var dataTrackSender = new DataTrackSender(options.maxPacketLifeTime, options.maxRetransmits, options.ordered);\r\n\r\n    var _this = _possibleConstructorReturn(this, (LocalDataTrack.__proto__ || Object.getPrototypeOf(LocalDataTrack)).call(this, dataTrackSender.id, 'data', options));\r\n\r\n    Object.defineProperties(_this, {\r\n      _trackSender: {\r\n        value: dataTrackSender\r\n      },\r\n      id: {\r\n        enumerable: true,\r\n        value: dataTrackSender.id\r\n      },\r\n      maxPacketLifeTime: {\r\n        enumerable: true,\r\n        value: options.maxPacketLifeTime\r\n      },\r\n      maxRetransmits: {\r\n        enumerable: true,\r\n        value: options.maxRetransmits\r\n      },\r\n      ordered: {\r\n        enumerable: true,\r\n        value: options.ordered\r\n      },\r\n      reliable: {\r\n        enumerable: true,\r\n        value: options.maxPacketLifeTime === null && options.maxRetransmits === null\r\n      }\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  /**\r\n   * Send a message over the {@link LocalDataTrack}.\r\n   * @param {string|Blob|ArrayBuffer|ArrayBufferView} data\r\n   * @returns {void}\r\n   */\r\n\r\n\r\n  _createClass(LocalDataTrack, [{\r\n    key: 'send',\r\n    value: function send(data) {\r\n      this._trackSender.send(data);\r\n    }\r\n  }]);\r\n\r\n  return LocalDataTrack;\r\n}(Track);\r\n\r\n/**\r\n * {@link LocalDataTrack} options\r\n * @typedef {LocalTrackOptions} LocalDataTrackOptions\r\n * @property {?number} [maxPacketLifeTime=null] - Set this to limit the time\r\n *   (in milliseconds) during which the LocalDataTrack will send or re-send data\r\n *   if not successfully delivered on the underlying RTCDataChannel(s). It is an\r\n *   error to specify both this and <code>maxRetransmits</code>.\r\n * @property {?number} [maxRetransmits=null] - Set this to limit the number of\r\n *   times the {@link LocalDataTrack} will send or re-send data if not\r\n *   acknowledged on the underlying RTCDataChannel(s). It is an error to specify\r\n *   both this and <code>maxPacketLifeTime</code>.\r\n * @property {boolean} [ordered=true] - Set this to false to allow data on the\r\n *   LocalDataTrack to be sent out-of-order.\r\n */\r\n\r\nmodule.exports = LocalDataTrack;"]},"metadata":{},"sourceType":"script"}